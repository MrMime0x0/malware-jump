stealPasswords = function()
    print("Attempting to steal passwords...")

    // Get the current shell environment and target's host computer
    shell = get_shell
    victim_computer = shell.host_computer

    // Access the /etc/passwd file
    passwd_file = victim_computer.File("/etc/passwd")

    // Check if the file exists and if we have read permissions
    if passwd_file and passwd_file.has_permission("r") then
        print("<color=green>Access granted to /etc/passwd file.</color>")
        
        // Read the file contents (simulates stealing passwords)
        passwd_content = passwd_file.get_content
        print("Password file contents:\n" + passwd_content)

        // Save the stolen data to a local file
        local_file_path = "/home/[REDACTED]/Desktop/stolenpasswords"
        victim_computer.touch(local_file_path) // Create the file
        local_file = victim_computer.File(local_file_path) // Open the created file

        if local_file then
            local_file.set_content(passwd_content) // Write the password content to the file
            print("<color=green>Passwords saved to " + local_file_path + "</color>")
        else
            print("<color=red>Failed to create the local file.</color>")
        end if

    else
        print("<color=red>Failed to access /etc/passwd. Permission denied.</color>")
    end if
end function

stealPasswords
